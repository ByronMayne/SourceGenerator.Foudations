<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<TargetFramework>netstandard2.0</TargetFramework>
		<Nullable>enable</Nullable>
		<LangVersion>9.0</LangVersion>
		<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
		<IncludeBuildOutput>false</IncludeBuildOutput>
		<IsRoslynComponent>true</IsRoslynComponent>
		<GeneratePackageOnBuild>False</GeneratePackageOnBuild>
		<Title>Source Generator Foundations</Title>
		<Authors>Byron Mayne</Authors>
		<Description>A Source Generator for Source Generators to smooth out the bumps in development. A foucs on removing the boilerplate and improving the debugging experince.</Description>
		<PackageProjectUrl></PackageProjectUrl>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<RepositoryUrl>https://github.com/ByronMayne/SourceGenerator.Foudations</RepositoryUrl>
		<RepositoryType>git</RepositoryType>
		<PackageTags>source;generator;csharp</PackageTags>
		<RootNamespace>SGF</RootNamespace>
		<NoWarn>$(NoWarn);NU5128</NoWarn>
		<TargetsForTfmSpecificContentInPackage>$(TargetsForTfmSpecificContentInPackage);Nuget_AppendContent</TargetsForTfmSpecificContentInPackage>
	</PropertyGroup>
	<ItemGroup>
		<None Update="$(AssemblyName).props" PackagePath="build" />
		<None Include="$(OutputPath)$(AssemblyName).dll" Pack="true" PackagePath="analyzers/dotnet/cs" Visible="false" />
		<PackageReference Include="Handlebars.Net.Helpers" Version="2.3.5" />
		<PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="4.0.1" PrivateAssets="all" />
		<PackageReference Include="GitVersion.MsBuild" Version="5.10.3" PrivateAssets="all" />
		<EmbededScript Include="AssemblyResolver.cs" />
		<EmbededScript Include="IncrementalGenerator.cs" />
		<EmbededScript Include="Configuration\ResourceConfiguration.cs" />
		<EmbededScript Include="Runtime\ModuleInitializerAttribute.cs" />
		<None Include="..\..\README.md">
			<Pack>True</Pack>
			<PackagePath>\</PackagePath>
		</None>
	  <ProjectReference Include="..\SourceGenerator.Foundations.Contracts\SourceGenerator.Foundations.Contracts.csproj" />
	</ItemGroup>
	<Target Name="Nuget_AppendContent">
		<ItemGroup>
			<TfmSpecificPackageFile Include="$(AssemblyName).props">
				<PackagePath>build/$(AssemblyName).props</PackagePath>
			</TfmSpecificPackageFile>
		</ItemGroup>
	</Target>
	<Target Name="EmbedDependencies" AfterTargets="ResolveAssemblyReferences">
		<ItemGroup>
			<EmbeddedResource Include="@(EmbededScript)">
				<LogicalName>SGF.Script::%(FileName)%(Extension)</LogicalName>
			</EmbeddedResource>
			<EmbeddedResource Include="@(ReferencePath)">
				<LogicalName>SGF.Assembly::%(FileName)%(Extension)</LogicalName>
			</EmbeddedResource>
		</ItemGroup>
	</Target>
	<!--<Target Name="EmbedDependencies" BeforeTargets="ResolvePackageDependenciesForBuild">
		<ItemGroup>
			<EmbeddedResource Include="@(ResolvedCompileFileDefinitionsToAdd)" />
		</ItemGroup>
	</Target>-->
</Project>
