<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<TargetFramework>netstandard2.0</TargetFramework>
		<Nullable>enable</Nullable>
		<LangVersion>9.0</LangVersion>
		<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
		<IncludeBuildOutput>false</IncludeBuildOutput>
		<IsRoslynComponent>true</IsRoslynComponent>
		<GeneratePackageOnBuild>true</GeneratePackageOnBuild>
		<Title>Source Generator Foundations</Title>
		<Authors>Byron Mayne</Authors>
		<Description>A Source Generator for Source Generators to smooth out the bumps in development. A foucs on removing the boilerplate and improving the debugging experince.</Description>
		<PackageProjectUrl></PackageProjectUrl>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<RepositoryUrl>https://github.com/ByronMayne/SourceGenerator.Foudations</RepositoryUrl>
		<RepositoryType>git</RepositoryType>
		<PackageTags>source;generator;csharp</PackageTags>
		<RootNamespace>SGF</RootNamespace>
		<NoWarn>$(NoWarn);NU5128</NoWarn>
		<TargetsForTfmSpecificContentInPackage>$(TargetsForTfmSpecificContentInPackage);Nuget_AppendContent</TargetsForTfmSpecificContentInPackage>
	</PropertyGroup>
	<ItemGroup>
		<None Update="$(AssemblyName).props" PackagePath="build" />
		<None Include="$(OutputPath)$(AssemblyName).dll" Pack="true" PackagePath="analyzers/dotnet/cs" Visible="false" />
		<PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="4.3.1" PrivateAssets="all" />
		<!-- Private="False" for the following to stop it from be compied to the output directory and picked up by the assembly resolver -->
		<ProjectReference Include="..\SourceGenerator.Foundations.Contracts\SourceGenerator.Foundations.Contracts.csproj" Private="False"/>
		<SGF_EmbeddedScript Include="Reflection\AssemblyResolver.cs" />
		<SGF_EmbeddedScript Include="IncrementalGenerator.cs" />
		<SGF_EmbeddedScript Include="Configuration\ResourceConfiguration.cs" />
		<SGF_EmbeddedScript Include="Runtime\ModuleInitializerAttribute.cs" />
		<SGF_EmbeddedScript Include="Generators\ScriptInjectorGenerator.cs" />
		<!-- Include Plugins -->
		<SGF_EmbeddedAssembly Include="..\Plugins\SourceGenerator.Foundations.Windows\bin\$(Configuration)\$(TargetFramework)\SourceGenerator.Foundations.Windows.dll" />
		<None Include="..\..\README.md">
			<Pack>True</Pack>
			<PackagePath>\</PackagePath>
		</None>
		<ProjectReference Include="..\Plugins\*\*.csproj" ReferenceOutputAssembly="false">
			<Private>True</Private>
		</ProjectReference>

	</ItemGroup>
	<Target Name="Nuget_AppendContent">
		<ItemGroup>
			<TfmSpecificPackageFile Include="$(AssemblyName).props">
				<PackagePath>build/$(AssemblyName).props</PackagePath>
			</TfmSpecificPackageFile>
		</ItemGroup>
	</Target>
	<Import Project="$(MSBuildThisFileDirectory)$(AssemblyName).props" />
</Project>